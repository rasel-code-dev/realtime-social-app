import{j as e,c as i,e as o,L as v,b as g,u as N,R as d}from"./vendor.369462a2.js";import b from"./PostList.84e7dcd9.js";import{f as m,a as x}from"./index.e0c26ee0.js";const F=()=>e("div",{className:"container",children:i("div",{className:"flex",children:[e("div",{className:"left-sidebar sticky",children:e("div",{className:"sidebar_content  ",children:e("div",{className:"p-1",children:e(y,{})})})}),e("div",{className:"main-content",children:e("div",{className:"mx-4",children:e(b,{})})}),e("div",{className:"right-sidebar sticky",children:e("div",{className:"sidebar_content  ",children:e("div",{className:"p-1",children:e(S,{})})})})]})});function y(){let l=o(s=>s.authState);const t=[{label:l.username,icon:"",img:l.avatar,to:`/profile/${l.username}`},{label:"Friends",icon:"fa fa-user-friends",img:null,to:"/"},{label:"Groups",icon:"fa fa-users",img:null,to:"/"},{label:"Pages",icon:"fa fa-flag",img:null,to:"/"},{label:"Save",icon:"fa fa-user-friends",img:null,to:"/"},{label:"Favorites",icon:"fa fa-bookmark",img:null,to:"/"},{label:"Messenger",icon:"fab fa-facebook-messenger",img:null,to:"/"}];return e("div",{children:t.map((s,n)=>e("li",{className:" hover:bg-gray-9 rounded py-2 pl-2",children:i(v,{className:"flex items-center no-underline",to:s.to,children:[s.img?e("img",{className:"w-6 radius-100",src:m(s.img),alt:""}):e("i",{className:s.icon}),e("h4",{className:"ml-2",children:s.label})]})},n))})}function S(l){const{appState:t,authState:s}=o(a=>({appState:a.appState,authState:a.authState}));let n=g();const u=N();d.useState([]),d.useEffect(()=>{(async function(){let a=await x.get("/api/user/friends");a.status===200&&n({type:"FETCH_FRIENDS",payload:a.data.allFriends})})()},[]);function f(a,r){if(s._id){let c=(a+s._id).split("");c.sort();let p=c.join("");u(`/chat/${p}/${r}`)}}function h(){t.socket.emit("leave",{room:"member",user_id:s._id})}return i("div",{className:"px-1",children:[i("div",{className:"flex justify-between items-center",children:[e("h4",{children:"Active Friends"}),e("i",{onClick:h,className:"text-gray-600 cursor-pointer text-xs fa fa-power-off"})]}),e("ul",{className:"mt-4",children:t&&t.friends.map((a,r)=>i("div",{className:"flex px-2 justify-between cursor-pointer items-center hover:bg-gray-9 rounded py-1",onClick:()=>f(a._id,a.username),children:[i("div",{className:"flex items-start",children:[e("img",{className:"w-6 radius-100% mr-2 mb-1",src:m(a.avatar),alt:""}),i("h4",{className:"text-sm font-medium ",children:[a.first_name," ",a.last_name]})]}),e("span",{className:["w-2 h-2 radius-100% ",a.user_status&&a.user_status.isActive?"bg-primary":"bg-gray-300"].join(" ")})]},r))})]})}export{F as default};

var j=Object.defineProperty,S=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var N=(i,n,e)=>n in i?j(i,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[n]=e,o=(i,n)=>{for(var e in n||(n={}))w.call(n,e)&&N(i,e,n[e]);if(v)for(var e of v(n))k.call(n,e)&&N(i,e,n[e]);return i},m=(i,n)=>S(i,b(n));import{R as f,m as T,b as U,j as s,c as r}from"./vendor.369462a2.js";import{b as C,f as h,a as u}from"./index.d57adefd.js";const E=i=>{let n="static/images/profile-image.jpg";const[e,d]=f.useState(null),[c,x]=f.useState({name:"Friends",render:t}),P=[{name:"Friends",render:t},{name:"Timeline",render:_},{name:"Photos",render:t},{name:"Follower",render:t}],p=T();U(),f.useEffect(()=>{C(p.username,function(a){d(a)})},[p.username]);function g(a){u.delete(`/api/user/unfriend/${a}`).then(l=>{console.log(l)})}async function F(a){if(a.name==="Friends"){if(!e.allFriends){let l=await u.get("/api/user/friends");l.status===200&&d(m(o({},e),{allFriends:l.data.allFriends}))}}else if(a.name==="Timeline"&&!e.allPosts){let l=await u.get("/api/user/posts");l.status===200&&d(m(o({},e),{allPosts:l.data.allPosts}))}x(a)}function t(){return s("div",{children:s("div",{className:"flex",children:e&&e.allFriends&&e.allFriends.map(a=>r("div",{className:"px-2",children:[s("div",{children:s("img",{className:"w-10 rounded-full mx-auto",src:h(a.avatar),alt:""})}),s("h4",{className:"text-sm text-center",children:a.first_name}),s("button",{onClick:()=>g(a._id),className:"btn",children:"Unfriend"})]}))})})}function _(){return s("div",{children:e&&e.allPosts&&e.allPosts.map(a=>s("h4",{children:a.title}))})}return s("div",{className:"sad",children:e&&r("div",{children:[r("div",{className:"cover_photo_bg mt-4 mx-auto",children:[s("img",{src:h(n),alt:"",className:"rounded"}),s("div",{className:"avatar_photo",children:s("img",{src:h(e.avatar),alt:""})})]}),r("div",{className:"container-1366",children:[r("div",{className:"mt-28 mx-auto block text-center",children:[s("h4",{children:e.first_name}),s("h4",{children:e.last_name})]}),s("div",{className:"profile_items flex mt-2",children:P.map(a=>s("li",{onClick:()=>F(a),className:["li_item",c.name===a.name?"active":""].join(" "),children:a.name}))}),s("div",{className:"mt-4",children:c&&c.render()})]})]})})};export{E as default};
